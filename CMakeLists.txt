cmake_minimum_required(VERSION 3.1 FATAL_ERROR)
project (ELITPC_DCS)
set (CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wno-unused-function")
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR}/bin)

#set(CMAKE_PREFIX_PATH /opt/soft/open62541)
find_package(open62541 REQUIRED)

if(open62541_FOUND)
    option(BUILD_SERVER "build server" ON)
    option(BUILD_DB "build database client" ON)
    option(BUILD_GUI "build operational client with gui" ON) 
    option(BUILD_TEST "build simple tests" ON) 
    add_subdirectory(deps)
    add_subdirectory(COREdcs)
    add_subdirectory(ELITPCdcs)
    if(BUILD_TEST)
        add_subdirectory(test)
    endif()
endif()